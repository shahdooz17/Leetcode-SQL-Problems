LeetCode 1068: Product Sales Analysis I
=======================================

==============================

Problem Description
-----------------
* * * * *

Write an SQL query that reports the product_name, year, and price for each sale in the `Sales` table.

Return the resulting table in any order.

* * * * *

Table Schema
-----------------

### `Sales`

| Column Name | Type | Description |
| --- | --- | --- |
| `sale_id` | int | The primary key of the table. |
| `product_id` | int | The ID of the product sold (foreign key to Product table). |
| `year` | int | The year the product was sold. |
| `quantity` | int | The quantity of the product sold. |
| `price` | int | The price per unit of the product. |

### `Product`

| Column Name | Type | Description |
| --- | --- | --- |
| `product_id` | int | The primary key of the table. |
| `product_name` | varchar | The name of the product. |

* * * * *

Example Input
-----------------
### `Sales` Table:

| sale_id | product_id | year | quantity | price |
| --- | --- | --- | --- | --- |
| 1 | 100 | 2008 | 10 | 5000 |
| 2 | 100 | 2009 | 12 | 5000 |
| 7 | 200 | 2011 | 15 | 9000 |

### `Product` Table:

| product_id | product_name |
| --- | --- |
| 100 | Nokia |
| 200 | Apple |
| 300 | Samsung |

* * * * *

Expected Output
-----------------
| product_name | year | price |
| --- | --- | --- |
| Nokia | 2008 | 5000 |
| Nokia | 2009 | 5000 |
| Apple | 2011 | 9000 |

* * * * *

SQL Solution
-----------------

```
SELECT product_name, year, price
FROM Sales S
LEFT JOIN Product P ON S.product_id = P.product_id;
```

* * * * *

Query Explanation
-----------------

1.  SELECT Clause: We need to retrieve the product name from the Product table, and the year and price from the Sales table.

2.  FROM Clause: We start with the Sales table as our base table since we want information about sales transactions.

3.  LEFT JOIN: We perform a LEFT JOIN with the Product table using the `product_id` column as the join condition. This ensures that:

    -   All sales records are included in the result

    -   Product information is attached where available

    -   If a product_id in Sales doesn't exist in Product, the product_name will be NULL (though this shouldn't happen with proper foreign key constraints)

4.  Why LEFT JOIN works: Since the problem asks for information "for each sale in the Sales table," a LEFT JOIN guarantees we get all sales records. An INNER JOIN would also work in this case since all product_ids in Sales should exist in Product, but LEFT JOIN is more explicit about our intention to preserve all sales records.

The query efficiently combines sales transaction data with product information to provide the required report showing product names alongside their sales year and price.